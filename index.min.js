function getLen(e){for(var t=0,a=0;a<e.length;a++){null!=e.charAt(a).match(/[^\x00-\xff]/gi)?t+=2:t+=1}return t}$(function(){var e,t=$("#username"),a=$("#login"),l=$("#pwd"),c=$("#validata"),o=$("#getcode"),s=$("#submit"),n=$("#cbox"),r=10;function i(e){var t=$(e),a=$(e+"-msg");switch(e.substring(1)){case"username":return 14<getLen(t.val())?void a.html("用户名不能超过7个汉字或14个字符"):""!==t.val()&&/^[a-zA-Z0-9_\u4e00-\u9fa5]*$/.test(t.val())&&!/^[0-9]*$/.test(t.val())?(a.html(""),1):void a.html("用户名仅支持中英文、数字和下划线,且不能为纯数字");case"login":return""!==t.val()&&/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.val())?(a.html(""),1):void a.html("手机号码格式不正确");case"pwd":return/^(?![\d]+$)(?![a-zA-Z]+$)(?![!#$%^&*]+$)[\da-zA-Z!#$%^&*]{8,14}$/.test(t.val())?(a.html(""),1):void a.html("格式错误,必须包含字母/数字以及符号至少两种,长度8-14位");case"validata":return""===t.val()?void a.html("请求超时,请稍后重试"):(a.html(""),1)}}o.mouseover(function(){o.css({color:"#2E58FF",border:"1px solid #2E58FF"})}),o.mouseout(function(){o.css({color:"#000",border:0})}),t.focusout(function(){i("#username")||t.select()}),a.focusout(function(){i("#login")||a.select()}),l.focusout(function(){i("#pwd")||l.select()}),o.click(function(){""!==a.val()&&""!==l.val()&&""!==t.val()&&(o.attr("disabled",!0),o.val("获取验证码(10s)"),e=setInterval(function(){if(0==--r){if(!i("#validata"))return clearInterval(e),r=10,o.val("获取验证码"),void o.removeAttr("disabled");clearInterval(e),r=10,o.val("获取验证码"),o.removeAttr("disabled")}else o.val("获取验证码("+r+"s)")},1e3))}),$("form").change(function(){""!==a.val()&&""!==l.val()&&""!==t.val()&&""!==c.val()&&n.prop("checked")?s.css({"background-color":"#3f89cc","box-shadow":"0 8px 20px 0 #8f9fff"}):(s.attr("disabled"),s.css({"background-color":"#BDCEFC"}))}),s.click(function(){i("#username")?i("#login")?i("#pwd")?i("#validata")||i("#pwd")?n.prop("checked")||n.css({"box-shadow":"0 0 10px #3f89cc;"}):c.select():l.select():a.select():t.select()})});